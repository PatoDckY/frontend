// 1. Configuraci贸n b谩sica (siempre va al inicio)
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql" //  Cambia a "postgresql" si usas Postgres
  url      = env("DATABASE_URL_P")
}

// 2. Traducci贸n de tu entidad Rol
model Rol {
  id       Int       @id @default(autoincrement())
  nombre   String    @unique
  
  // Relaci贸n inversa (equivalente a @OneToMany)
  usuarios Usuario[]

  // Esto asegura que la tabla en BD se siga llamando 'roles' como ten铆as antes
  @@map("roles")
}

// 3. Traducci贸n de tu entidad Usuario
model Usuario {
  id              Int     @id @default(autoincrement())
  nombre          String
  apellidoPaterno String
  apellidoMaterno String? // El '?' significa nullable (true en TypeORM)
  edad            Int
  sexo            String
  telefono        String
  correo          String  @unique
  contrasena      String

  // Relaci贸n (equivalente a @ManyToOne y @JoinColumn)
  rolId Int @map("rol_id") // Mapeamos la columna a 'rol_id' como ten铆as antes
  rol   Rol @relation(fields: [rolId], references: [id])

  // Nombre de la tabla
  @@map("usuarios")
}